# Simple Welcome Bot - Welcomes new contributors
name: Simple Welcome Bot

on:
  issues:
    types: [opened]
  pull_request:
    types: [opened]

jobs:
  welcome:
    runs-on: ubuntu-latest
    steps:
      - name: Welcome new issue or PR
        uses: actions/github-script@v7
        with:
          script: |
            const { owner, repo, number } = context.issue;
            const isIssue = context.eventName === 'issues';
            const isPR = context.eventName === 'pull_request';
            const user = isIssue ? context.payload.issue.user.login : context.payload.pull_request.user.login;
            
            let comment = '';
            
            if (isIssue) {
              comment = `ğŸ‘‹ Welcome to Refactron, @${user}! Thanks for opening this issue.
              
              **Quick Links:**
              - ğŸ“– [Documentation](https://github.com/Refactron-ai/Refactron_lib/blob/main/README.md)
              - ğŸ¤ [Contributing Guide](https://github.com/Refactron-ai/Refactron_lib/blob/main/CONTRIBUTING.md)
              - ğŸ“‹ [Code of Conduct](https://github.com/Refactron-ai/Refactron_lib/blob/main/CODE_OF_CONDUCT.md)
              
              We'll review your issue and get back to you soon! ğŸš€`;
            } else if (isPR) {
              comment = `ğŸ‰ Thanks for contributing to Refactron, @${user}! We appreciate your effort.
              
              **Before we review, please ensure:**
              - [ ] Tests pass
              - [ ] Documentation is updated
              - [ ] Code follows our style guidelines
              
              **Quick Links:**
              - ğŸ“– [Documentation](https://github.com/Refactron-ai/Refactron_lib/blob/main/README.md)
              - ğŸ§ª [Running Tests](https://github.com/Refactron-ai/Refactron_lib/blob/main/GETTING_STARTED_DEV.md#running-tests)
              - ğŸ“ [Code Style](https://github.com/Refactron-ai/Refactron_lib/blob/main/CONTRIBUTING.md#code-style)
              
              We'll review your PR and provide feedback soon! ğŸš€`;
            }
            
            await github.rest.issues.createComment({
              owner,
              repo,
              issue_number: number,
              body: comment
            });
            
            console.log(`Welcomed ${user} for ${isIssue ? 'issue' : 'PR'} ${owner}/${repo}#${number}`);
